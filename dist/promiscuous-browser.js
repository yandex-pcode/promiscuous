/**@license MIT-promiscuous-Â©Ruben Verborgh*/
(function(n,t){function c(n,t){return(typeof t)[0]==n}function u(o,i){return i=function f(e,h,a,l,p,s){function y(n){return function(t){p&&(p=0,f(c,n,t))}}if(l=f.q,e!=c)return u(function(n,t){l.push({p:this,r:n,j:t,1:e,0:h})});if(a&&c(n,a)|c(t,a))try{p=a.then}catch(m){h=0,a=m}if(c(n,p))try{p.call(a,y(1),h=y(0))}catch(m){h(m)}else for(i=function(t,i){return c(n,t=h?t:i)?u(function(n,c){r(this,n,c,a,t)}):o},s=0;l.length>s;)p=l[s++],c(n,e=p[h])?r(p.p,p.r,p.j,a,e):(h?p.r:p.j)(a)},i.q=[],o.call(o={then:function(n,t){return i(n,t)},"catch":function(n){return i(0,n)}},function(n){i(c,1,n)},function(n){i(c,0,n)}),o}function r(u,r,o,f,e){i(function(){try{f=e(f),e=f&&c(t,f)|c(n,f)&&f.then,c(n,e)?f==u?o(TypeError()):e.call(f,r,o):r(f)}catch(i){o(i)}})}function o(n){return u(function(t){t(n)})}var i=setTimeout;Promise=u,u.resolve=o,u.reject=function(n){return u(function(t,c){c(n)})},u.all=function(n){return u(function(t,c,u,r){r=[],u=n.length||t(r),n.map(function(n,i){o(n).then(function(n){r[i]=n,--u||t(r)},c)})})},u.race=function(n){return u(function(t,c){n.map(function(n){o(n).then(t,c)})})}})("f","o");